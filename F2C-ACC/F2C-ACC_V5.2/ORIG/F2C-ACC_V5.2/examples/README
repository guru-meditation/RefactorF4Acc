This directory provides a Makefile that can be modified to build CUDA or C
source using the F2C-ACC compiler.  Configuration instructions are given in
the Makefile.

Software required to build and run F2C-ACC code on the GPU:
  1.  M4 libraries:  needed to handle inter-language declarations, etc 
	GNU website: http://www.gnu.org/software/m4/
  2.  CUDA compiler & support libraries
	http://www.nvidia.com/object/tesla_software.html

  3.  The gptl_lite subdirectory contains a simple set of timing routines needed
	for the performance tests.  To build:

	cd gptl_lite; make


Once the software is installed, and the Makefile is configured, you can
build and run the targets found in the examples subdirectory:

make driver_ftn		- builds source with your fortran compiler
make driver_cpu		- builds the driver with fortran, the rest with gcc
make driver_gpu		- builds the driver with fortran, the rest with nvcc

make			- builds all three targets above

A number of simple data movement, correctness, and performance tests are run
with output as follows:

ta Movement Tests
   ACC$DATA Test:        PASSED
  
 Correctness and Accuracy Tests
   Intrinsics Test:      PASSED
   Scalar Test:          PASSED
  
 Memory and Performance Tests
   Global2D:              PASSED
   Global2DShared1D:      PASSED
   Global2Dloops:         PASSED
   Global2DShared1Dloops: PASSED
   SharedChunk:           PASSED
   Global3D:              PASSED
   Global3DShared:        PASSED
   Promote2DBlock:        PASSED
   Promote2DThread:       PASSED
   Shared3Dout:           PASSED
   blockShared:           PASSED
 
----------------------------------------
 PERFORMANCE RESULTS
 
              ROUTINE      FORTRAN       CPU-C      GPU-CUDA
            NumBlocks        0.000        0.000        0.001
             global2D        0.041        0.076        0.002
     global2Dshared1D        0.171        0.061        0.001
        global2Dloops        0.139        0.347        0.002
 Global2DShared1Dloop        0.138        0.346        0.001
          sharedChunk        0.105        0.341        0.011
             global3D        0.151        0.319        0.001
     global3Dshared1D        0.151        0.335        0.001
       Promote2Dblock        0.428        0.154        0.002
      Promote2Dthread        0.048        0.146        0.002
          Shared3Dout        0.000        0.000        0.000
          blockShared        0.000        0.000        0.000

